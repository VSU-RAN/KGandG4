<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.canvas.Canvas?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.SeparatorMenuItem?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.input.KeyCodeCombination?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="vsu.org.ran.kgandg4.controllers.GuiController"
      fx:id="mainContainer"
      style="-fx-background-color: #f0f0f0;">

    <!-- Верхняя панель с меню -->
    <HBox spacing="0" style="-fx-background-color: #f8f9fa;
                             -fx-border-color: #dee2e6;
                             -fx-border-width: 0 0 1 0;">

        <!-- Меню -->
        <MenuBar prefHeight="36" style="-fx-background-color: transparent;">
            <Menu mnemonicParsing="false" text="Меню"
                  style="-fx-font-size: 14px;
                         -fx-font-weight: 500;
                         -fx-text-fill: #495057;
                         -fx-padding: 8 16 8 16;">

                <MenuItem fx:id="menuOpen" mnemonicParsing="false"
                          style="-fx-font-size: 13px; -fx-padding: 6 20 6 20;"
                          text="Открыть модель">
                    <accelerator>
                        <KeyCodeCombination alt="UP" code="O" control="DOWN" meta="UP" shift="UP" shortcut="UP" />
                    </accelerator>
                </MenuItem>

                <SeparatorMenuItem />

                <MenuItem fx:id="menuCameraPanel" mnemonicParsing="false"
                          style="-fx-font-size: 13px; -fx-padding: 6 20 6 20;"
                          text="Панель камер">
                    <accelerator>
                        <KeyCodeCombination alt="UP" code="C" control="DOWN" meta="UP" shift="UP" shortcut="UP" />
                    </accelerator>
                </MenuItem>

                <MenuItem fx:id="menuModelPanel" mnemonicParsing="false"
                          style="-fx-font-size: 13px; -fx-padding: 6 20 6 20;"
                          text="Панель моделей" />

                <MenuItem fx:id="menuRenderSettings" mnemonicParsing="false"
                          style="-fx-font-size: 13px; -fx-padding: 6 20 6 20;"
                          text="Настройки рендера" />

                <!-- Пункт меню для редактирования -->
                <MenuItem fx:id="menuEditPanel" mnemonicParsing="false"
                          style="-fx-font-size: 13px; -fx-padding: 6 20 6 20;"
                          text="Редактирование модели" />

                <!-- Пункт меню для трансформаций -->
                <MenuItem fx:id="menuTransformPanel" mnemonicParsing="false"
                          style="-fx-font-size: 13px; -fx-padding: 6 20 6 20;"
                          text="Трансформации модели" />

                <SeparatorMenuItem />

                <MenuItem fx:id="menuCameraTools" mnemonicParsing="false"
                          style="-fx-font-size: 13px; -fx-padding: 6 20 6 20;"
                          text="Инструменты камер" />

                <MenuItem fx:id="menuModelTools" mnemonicParsing="false"
                          style="-fx-font-size: 13px; -fx-padding: 6 20 6 20;"
                          text="Инструменты моделей" />

                <SeparatorMenuItem />

                <MenuItem fx:id="menuResetView" mnemonicParsing="false"
                          style="-fx-font-size: 13px; -fx-padding: 6 20 6 20;"
                          text="Сбросить вид" />

                <MenuItem fx:id="menuExit" mnemonicParsing="false"
                          style="-fx-font-size: 13px; -fx-padding: 6 20 6 20;"
                          text="Выход" />
            </Menu>
        </MenuBar>

        <!-- Разделитель -->
        <Separator orientation="VERTICAL" style="-fx-padding: 6 0 6 0;" />

        <!-- Кнопки -->
        <HBox spacing="6" style="-fx-padding: 4 16 4 0;">

            <Button fx:id="modelButton" text="Модель" onAction="#onModelPanelButtonClick"
                    style="-fx-background-color: transparent;
                   -fx-text-fill: #495057;
                   -fx-font-size: 13px;
                   -fx-font-weight: 500;
                   -fx-padding: 6 14 6 14;
                   -fx-border-radius: 4;
                   -fx-background-radius: 4;
                   -fx-cursor: hand;
                   -fx-border-color: transparent;" />

            <Button fx:id="cameraButton" text="Камеры" onAction="#onCameraPanelButtonClick"
                    style="-fx-background-color: transparent;
                   -fx-text-fill: #495057;
                   -fx-font-size: 13px;
                   -fx-font-weight: 500;
                   -fx-padding: 6 14 6 14;
                   -fx-border-radius: 4;
                   -fx-background-radius: 4;
                   -fx-cursor: hand;
                   -fx-border-color: transparent;" />

            <!-- Кнопка трансформаций ПЕРЕНОСИМ сюда -->
            <Button fx:id="transformButton" text="Трансформации" onAction="#onTransformPanelButtonClick"
                    style="-fx-background-color: transparent;
                   -fx-text-fill: #495057;
                   -fx-font-size: 13px;
                   -fx-font-weight: 500;
                   -fx-padding: 6 14 6 14;
                   -fx-border-radius: 4;
                   -fx-background-radius: 4;
                   -fx-cursor: hand;
                   -fx-border-color: transparent;" />

            <Button fx:id="renderButton" text="Рендеринг" onAction="#onRenderPanelButtonClick"
                    style="-fx-background-color: transparent;
                   -fx-text-fill: #495057;
                   -fx-font-size: 13px;
                   -fx-font-weight: 500;
                   -fx-padding: 6 14 6 14;
                   -fx-border-radius: 4;
                   -fx-background-radius: 4;
                   -fx-cursor: hand;
                   -fx-border-color: transparent;" />

            <!-- Кнопка редактирования -->
            <Button fx:id="editButton" text="Редактировать" onAction="#onEditPanelButtonClick"
                    style="-fx-background-color: transparent;
                   -fx-text-fill: #495057;
                   -fx-font-size: 13px;
                   -fx-font-weight: 500;
                   -fx-padding: 6 14 6 14;
                   -fx-border-radius: 4;
                   -fx-background-radius: 4;
                   -fx-cursor: hand;
                   -fx-border-color: transparent;" />

            <Button fx:id="resetButton" text="Сбросить" onAction="#onResetViewButtonClick"
                    style="-fx-background-color: transparent;
                   -fx-text-fill: #495057;
                   -fx-font-size: 13px;
                   -fx-font-weight: 500;
                   -fx-padding: 6 14 6 14;
                   -fx-border-radius: 4;
                   -fx-background-radius: 4;
                   -fx-cursor: hand;
                   -fx-border-color: transparent;" />

            <!-- Отступ -->
            <HBox HBox.hgrow="ALWAYS" />

            <Button text="Выход" onAction="#onExitClick"
                    style="-fx-background-color: transparent;
                   -fx-text-fill: #dc3545;
                   -fx-font-size: 13px;
                   -fx-font-weight: 500;
                   -fx-padding: 6 18 6 18;
                   -fx-border-radius: 4;
                   -fx-background-radius: 4;
                   -fx-cursor: hand;
                   -fx-border-color: #dc3545;" />
        </HBox>
    </HBox>

    <!-- Основная область - SplitPane -->
    <SplitPane fx:id="mainSplitPane" dividerPositions="0.8" VBox.vgrow="ALWAYS">
        <!-- Левая часть - Canvas -->
        <AnchorPane fx:id="canvasContainer" minWidth="400">
            <Canvas fx:id="canvas"
                    AnchorPane.topAnchor="0.0"
                    AnchorPane.bottomAnchor="0.0"
                    AnchorPane.leftAnchor="0.0"
                    AnchorPane.rightAnchor="0.0"/>
        </AnchorPane>

        <!-- Правая часть - пустая, будет заполняться динамически -->
        <VBox fx:id="rightPanelContainer" minWidth="0" maxWidth="400">
            <!-- Здесь будет появляться панель камер -->
        </VBox>
    </SplitPane>

</VBox>